<?taglib uri="http://www.zkoss.org/dsp/web/core" prefix="c" ?>
<zk xmlns:w="client" xmlns:n="native">
	<div apply="org.zkoss.bind.BindComposer" viewModel="@id('vm') @init('ru.dreamcloud.pharmatracker.zk.viewmodels.widgets.DoctorTilePanelVM')">
		<n:article class="tile">
			<n:h2 class="tile-title">${vm.rankName}</n:h2>
			<n:div class="tile-config dropdown">
				<n:a data-toggle="dropdown" href="" class="tile-menu"></n:a>
				<n:ul class="dropdown-menu animated pull-right text-right">
					<n:li>
						<a class="tile-info-toggle" href="" onClick="@command('editDoctorItem')">
							Редактировать
						</a>
					</n:li>
				</n:ul>
			</n:div>

			<div sclass="p-b-10 p-l-10 p-r-10">
				<div sclass="row">
					<n:div class="col-lg-12 col-md-12 col-xs-12">
						<n:h3 class="block-title">Личные данные</n:h3>
						<n:div class="form-group">
							<n:strong class="col-md-4 col-xs-6">
								Фамилия:
							</n:strong>
							<label
								sclass="control-label col-md-8 col-xs-6"
								value="${vm.currentDoctor.lastname}">
							</label>
						</n:div>
						<n:div class="form-group">
							<n:strong class="col-md-4 col-xs-6">
								Имя:
							</n:strong>
							<label
								sclass="control-label col-md-8 col-xs-6"
								value="${vm.currentDoctor.firstname}">
							</label>
						</n:div>
						<n:div class="form-group">
							<n:strong class="col-md-4 col-xs-6">
								Отчество:
							</n:strong>
							<label
								sclass="control-label col-md-8 col-xs-6"
								value="${vm.currentDoctor.middlename}">
							</label>
						</n:div>
						<n:hr class="whiter m-t-10 m-b-10" if="${(not empty vm.currentDoctor.contactInfo.city) 
																|| (not empty vm.currentDoctor.contactInfo.country)}"/>
						<n:div class="form-group"
							if="${not empty vm.currentDoctor.contactInfo.city}">
							<n:strong class="col-md-4 col-xs-6">
								Населенный пункт:
							</n:strong>
							<label
								sclass="control-label col-md-8 col-xs-6"
								value="${vm.currentDoctor.contactInfo.city}">
							</label>
						</n:div>
						<n:div class="form-group"
							if="${not empty vm.currentDoctor.contactInfo.country}">
							<n:strong class="col-md-4 col-xs-6">
								Страна:
							</n:strong>
							<label
								sclass="control-label col-md-8 col-xs-6"
								value="${vm.currentDoctor.contactInfo.country}">
							</label>
						</n:div>
					</n:div>
				</div>
				
				<div sclass="row">
					<n:div class="col-lg-12 col-md-12 col-xs-12">
						<n:hr class="whiter m-t-10" if="${not empty vm.currentDoctor.contactInfo.addressList}"/>
						<n:h3 class="block-title" if="${not empty vm.currentDoctor.contactInfo.addressList}">
							Адреса
						</n:h3>
						<!-- Addresses -->
						<n:address forEach="${vm.currentDoctor.contactInfo.addressList}">
							<n:strong>${each.title}</n:strong>
							<n:br />
							<n:span if="${not empty each.street}">
								ул. ${each.street}
							</n:span>
							<n:span
								if="${not empty each.corpsNumber}">
								корп. ${each.corpsNumber}
							</n:span>
							<n:span if="${not empty each.homeNumber}">
								д. ${each.homeNumber}
							</n:span>
							<n:span
								if="${not empty each.apartmentNumber}">
								кв. ${each.apartmentNumber}
							</n:span>
							<n:br />
						</n:address>
						<n:hr class="whiter m-t-10" if="${not empty vm.currentDoctor.contactInfo.phonesList}"/>
						<n:h3 class="block-title" if="${not empty vm.currentDoctor.contactInfo.phonesList}">
							Телефоны
						</n:h3>
						<n:address
							forEach="${vm.currentDoctor.contactInfo.phonesList}">
							<n:abbr
								if="${not empty each.phoneType.name}"
								title="${each.phoneType.name}">
								${each.phoneType.name}:
							</n:abbr>
							${each.phoneNumber}
						</n:address>
					</n:div>				
				</div>
			</div>
		</n:article>
	</div>
</zk>